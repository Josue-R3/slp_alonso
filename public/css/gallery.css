/* Contenedor principal de la galería */
.gallery-container {
  background-color: #ffffff; /* Fondo blanco */
  position: relative; /* Necesario para que el overlay y el botón se posicionen correctamente */
  margin: 50px 50px;
  padding: 20px;
  padding-bottom: 150px; /* Aumentamos el espacio inferior para que el botón no se corte */
  width: calc(100% - 100px); /* Restamos los márgenes */
  max-width: 100%;
  overflow-x: hidden; /* Evita desplazamiento horizontal */
}
/* Grid de imágenes usando columnas (efecto masonry) */
.gallery-wrapper {
  position: relative;
  width: 100%;
  overflow: hidden; /* Importante para evitar scroll horizontal */
}

.gallery-expandable {
  width: 100%;
  box-sizing: border-box; /* Importante para que el padding no cause overflow */
  max-height: 800px; /* Altura inicial colapsada */
  overflow: hidden;
  transition: max-height 1.2s cubic-bezier(0.215, 0.610, 0.355, 1.000);
}

.gallery-expandable.expanded {
  max-height: 5000px; /* Altura expandida */
  transition: max-height 0.8s cubic-bezier(0.215, 0.610, 0.355, 1.000);
}

/* Ajustar el grid para que no cause overflow */
.gallery-grid {
  column-count: 4;
  column-gap: 16px;
  width: 100%;
}

/* Asegúrate de que las imágenes estén contenidas */
.gallery-item {
  display: inline-block;
  width: 100%;
  margin-bottom: 16px;
  break-inside: avoid;
  position: relative;
  cursor: crosshair;
  box-sizing: border-box; /* Importante */
}

.gallery-item::before {
  position: absolute;
  margin: 0;
  width: 100%;
  height: 100%;
  background-color: #000000; /* Cambiado de rgba(0,0,0,0.5) */
  opacity: 0.5;
  border-radius: 6px;
  transition: opacity 0.3s ease-in-out;
}

/* Efecto al pasar el mouse */
.gallery-item:hover::before {
  opacity: 1;
}

.gallery-image {
  width: 100%;
  height: auto;
  border-radius: 8px;
  object-fit: cover;
  transition: transform 0.3s ease-in-out;
  max-width: 100%; /* Asegura que la imagen no desborde */
}

/* Overlay para el botón Ver más/menos */
.toggle-overlay {
  position: absolute;
  bottom: 0; /* El gradiente comienza desde el borde inferior */
  left: 0;
  width: 100%;
  height: 95px; /* Aumentamos la altura para cubrir más contenido */
  display: flex;
  justify-content: center;
  align-items: flex-end; /* Alineamos el botón al final del overlay */
  pointer-events: none; /* Permite clic a través del overlay excepto en el botón */
  background: linear-gradient(to bottom, #ffffff00, #ffffff); /* Cambiado de rgba */
  transition: opacity 0.5s ease, background 0.5s ease;
  z-index: 1; /* Asegura que el overlay esté por encima del contenido */
}

/* Botón Ver más/menos */
.toggle-btn {
  pointer-events: auto; /* Permite clics en el botón */
  background-color: var(--primary-dark-color) ; /* Color sólido */
  color: #ffffff; /* Texto blanco */
  border: none;
  border-radius: 24px;
  padding: 10px 20px;
  margin-bottom: 15px;
  font-size: 15px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 2px 5px #00000033; /* Cambiado de rgba(0, 0, 0, 0.2) */
  z-index: 2; /* Asegura que el botón esté por encima del overlay */
  position: relative; /* Necesario para que el z-index funcione */
}

.toggle-btn:hover {
  background-color: var(--primary-strong-color) ; /* Color más oscuro al pasar el mouse */
  transform: scale(1.05); /* Efecto de escala */
}

/* Media queries para ajustar el número de columnas en pantallas más pequeñas */
@media (max-width: 1200px) {
  .gallery-grid {
    column-count: 3;
  }
}

@media (max-width: 768px) {
  .gallery-grid {
    column-count: 2;
  }

  .gallery-container {
    margin: 20px;
    padding: 10px;
    width: calc(100% - 40px);
  }
}

@media (max-width: 480px) {
  .gallery-grid {
    column-count: 2;
  }
}